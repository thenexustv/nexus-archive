---
import Base from "../../layouts/Base.astro";
import PersonCard from "../../components/PersonCard.astro";
import { getAllPeople } from "../../data";

const people = getAllPeople();
const hosts = people.filter((p) => p.globalRole === "host");
const guests = people.filter((p) => p.globalRole === "guest");
---

<Base title="People">
  <h1 class="text-2xl font-bold mb-1">People</h1>
  <p class="text-sm text-gray-500 mb-8">
    {people.length} people &middot; {hosts.length} hosts, {guests.length} guests
  </p>

  <section class="mb-10">
    <h2 class="text-lg font-semibold mb-4">Hosts</h2>
    <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3">
      {hosts.map((p) => <PersonCard person={p} />)}
    </div>
  </section>

  <section>
    <h2 class="text-lg font-semibold mb-4">Guests</h2>
    <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3">
      {guests.map((p) => <PersonCard person={p} />)}
    </div>
  </section>
</Base>
